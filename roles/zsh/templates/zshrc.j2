# Setup Antigen
if [ ! -f $HOME/.antigen/antigen.zsh ]; then
    curl -fLo $HOME/.antigen/antigen.zsh --create-dirs \
        https://git.io/antigen
fi
source $HOME/.antigen/antigen.zsh

antigen use oh-my-zsh

antigen bundle command-not-found
antigen bundle git
antigen bundle node
antigen bundle nvm
antigen bundle pip
antigen bundle vi-mode

antigen bundle zsh-users/zsh-autosuggestions
antigen bundle zsh-users/zsh-completions
antigen bundle zsh-users/zsh-syntax-highlighting

antigen theme denysdovhan/spaceship-prompt
SPACESHIP_TIME_SHOW=true
SPACESHIP_TIME_12HR=true
SPACESHIP_EXIT_CODE_SHOW=true

antigen apply

# Set PATH
{% if inventory_hostname == "remote" %}
export PATH=$HOME/.cargo/bin:$HOME/.local/bin:$HOME/sources/opt/llvm7/bin:$PATH
{% else %}
export PATH=/usr/lib/ccache/bin:/opt/llvm/bin:$HOME/.cargo/bin:$HOME/.local/bin:$PATH
{% endif %}

{% if theme_name == "wal" %}
# Load wal
if [ -d $HOME/.cache/wal ]; then
    (cat $HOME/.cache/wal/sequences &)
    source $HOME/.cache/wal/colors-tty.sh
fi
{% endif %}

# User configuration
setopt nonomatch
{% if inventory_hostname == "remote" %}
source ~/.bashrc > /dev/null 2>&1
{% endif %}

export KEYTIMEOUT=1
export GIT_ASKPASS=
export SSH_ASKPASS=

alias dryclean="find . \( -name 'node_modules' -o -name 'elm-stuff' -o -name 'target' -o -name 'build' -o -name 'dist' -o -name 'venv' \) -type d -print -prune"
alias clean="find . \( -name 'node_modules' -o -name 'elm-stuff' -o -name 'target' -o -name 'build' -o -name 'dist' -o -name 'venv' \) -type d -print -prune -exec rm -rfI {} \;"
alias ?="lynx https://google.com"

[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
